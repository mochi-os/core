{{define "title"}}{{.Post.Body}}{{end}}
{{template "head" .}}
<p class="header"><a href="/">Comms</a> | <a href="/feeds">Feeds</a> | <a href="/feeds/{{.Feed.ID}}">{{.Feed.Name}}</a></p>

<style>.off { filter: grayscale(100%); }</style>

<pre>{{.Post.Body}}</pre>

{{range .Attachments}}<a href="/files/{{$.Feed.ID}}/{{.File}}/{{.Name}}">{{.Name}}</a> ({{.Size}}B)<br/>{{end}}

<p style="font-variant: small-caps;">{{.Post.Name}} {{.Post.CreatedString}} <a href="/feeds/{{.Feed.ID}}/{{.Post.ID}}/comment">New comment</a>&nbsp;
<a href="/feeds/{{.Feed.ID}}/{{.Post.ID}}/react/none" title="None" class="off">&#128528;</a> <a href="/feeds/{{.Feed.ID}}/{{.Post.ID}}/react/like" title="Like" {{if ne .MyReaction "like"}}class="off"{{end}}>&#128515;</a> <a href="/feeds/{{.Feed.ID}}/{{.Post.ID}}/react/dislike" title="Dislike" {{if ne .MyReaction "dislike"}}class="off"{{end}}>&#128543;</a> <a href="/feeds/{{.Feed.ID}}/{{.Post.ID}}/react/agree" title="Agree" {{if ne .MyReaction "agree"}}class="off"{{end}}>&#128077;</a> <a href="/feeds/{{.Feed.ID}}/{{.Post.ID}}/react/disagree" title="Disagree" {{if ne .MyReaction "disagree"}}class="off"{{end}}>&#128078;</a> <a href="/feeds/{{.Feed.ID}}/{{.Post.ID}}/react/amazed" title="Amazed"  {{if ne .MyReaction "amazed"}}class="off"{{end}}>&#128562;</a> <a href="/feeds/{{.Feed.ID}}/{{.Post.ID}}/react/laugh" title="Laugh" {{if ne .MyReaction "laugh"}}class="off"{{end}}>&#128541;</a> <a href="/feeds/{{.Feed.ID}}/{{.Post.ID}}/react/love" title="Love" {{if ne .MyReaction "love"}}class="off"{{end}}>&#129392;</a> <a href="/feeds/{{.Feed.ID}}/{{.Post.ID}}/react/sad" title="Sad" {{if ne .MyReaction "sad"}}class="off"{{end}}>&#128542;</a> <a href="/feeds/{{.Feed.ID}}/{{.Post.ID}}/react/angry" title="Angry" {{if ne .MyReaction "angry"}}class="off"{{end}}>&#128544;</a>&nbsp;
{{range .Reactions}} | {{.Name}} {{if eq .Reaction "like"}}&#128515;{{end}}{{if eq .Reaction "dislike"}}&#128543;{{end}}{{if eq .Reaction "agree"}}&#128077;{{end}}{{if eq .Reaction "disagree"}}&#128078;{{end}}{{if eq .Reaction "amazed"}}&#128562;{{end}}{{if eq .Reaction "laugh"}}&#128541;{{end}}{{if eq .Reaction "love"}}&#129392;{{end}}{{if eq .Reaction "sad"}}&#128542;{{end}}{{if eq .Reaction "angry"}}&#128544;{{end}}{{end}}
</p>

<p>{{range .Comments}}{{template "feed_comment" .}}{{end}}</p>

{{template "foot" .}}

{{define "feed_comment"}}
	<hr/>
	<pre>{{.Body}}</pre><p style="font-variant: small-caps;">{{.Name}} {{.CreatedString}} <a href="/feeds/{{.Feed}}/{{.Post}}/comment?parent={{.ID}}">Reply</a>&nbsp;
	<a href="/feeds/{{.Feed}}/{{.Post}}/{{.ID}}/react/none" title="None" class="off">&#128528;</a> <a href="/feeds/{{.Feed}}/{{.Post}}/{{.ID}}/react/like" title="Like" {{if ne .MyReaction "like"}}class="off"{{end}}>&#128515;</a> <a href="/feeds/{{.Feed}}/{{.Post}}/{{.ID}}/react/dislike" title="Dislike" {{if ne .MyReaction "dislike"}}class="off"{{end}}>&#128543;</a> <a href="/feeds/{{.Feed}}/{{.Post}}/{{.ID}}/react/agree" title="Agree" {{if ne .MyReaction "agree"}}class="off"{{end}}>&#128077;</a> <a href="/feeds/{{.Feed}}/{{.Post}}/{{.ID}}/react/disagree" title="Disagree" {{if ne .MyReaction "disagree"}}class="off"{{end}}>&#128078;</a> <a href="/feeds/{{.Feed}}/{{.Post}}/{{.ID}}/react/amazed" title="Amazed"  {{if ne .MyReaction "amazed"}}class="off"{{end}}>&#128562;</a> <a href="/feeds/{{.Feed}}/{{.Post}}/{{.ID}}/react/laugh" title="Laugh" {{if ne .MyReaction "laugh"}}class="off"{{end}}>&#128541;</a> <a href="/feeds/{{.Feed}}/{{.Post}}/{{.ID}}/react/love" title="Love" {{if ne .MyReaction "love"}}class="off"{{end}}>&#129392;</a> <a href="/feeds/{{.Feed}}/{{.Post}}/{{.ID}}/react/sad" title="Sad" {{if ne .MyReaction "sad"}}class="off"{{end}}>&#128542;</a> <a href="/feeds/{{.Feed}}/{{.Post}}/{{.ID}}/react/angry" title="Angry" {{if ne .MyReaction "angry"}}class="off"{{end}}>&#128544;</a>&nbsp;
	{{range .Reactions}} | {{.Name}} {{if eq .Reaction "like"}}&#128515;{{end}}{{if eq .Reaction "dislike"}}&#128543;{{end}}{{if eq .Reaction "agree"}}&#128077;{{end}}{{if eq .Reaction "disagree"}}&#128078;{{end}}{{if eq .Reaction "amazed"}}&#128562;{{end}}{{if eq .Reaction "laugh"}}&#128541;{{end}}{{if eq .Reaction "love"}}&#129392;{{end}}{{if eq .Reaction "sad"}}&#128542;{{end}}{{if eq .Reaction "angry"}}&#128544;{{end}}{{end}}
	</p>
	{{range .Children}}<div style="border-left: 2px solid blue; padding-left: 10px;">{{template "feed_comment" .}}</div>{{end}}
{{end}}
